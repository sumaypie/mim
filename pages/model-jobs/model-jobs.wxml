<!--pages/model-jobs/model-jobs.wxml-->
<view class="container">
  <view class="header">
    <view class="search-box">
      <input class="search-input" placeholder="æœç´¢æ‹›è˜ä¿¡æ¯" bindinput="onSearchInput" />
    </view>
    <view class="post-btn" bindtap="onPostJob">å‘å¸ƒæ‹›è˜</view>
  </view>

  <view class="filter-bar">
    <view class="filter-item {{currentFilter === 'all' ? 'active' : ''}}" bindtap="onFilterChange" data-type="all">å…¨éƒ¨</view>
    <view class="filter-item {{currentFilter === 'latest' ? 'active' : ''}}" bindtap="onFilterChange" data-type="latest">æœ€æ–°</view>
    <view class="filter-item {{currentFilter === 'salary' ? 'active' : ''}}" bindtap="onFilterChange" data-type="salary">è–ªèµ„</view>
    <view class="filter-item {{currentFilter === 'distance' ? 'active' : ''}}" bindtap="onFilterChange" data-type="distance">è·ç¦»</view>
  </view>

  <scroll-view class="job-list" scroll-y="true" bindscrolltolower="onLoadMore">
    <block wx:if="{{jobs.length > 0}}">
      <view class="job-card" wx:for="{{jobs}}" wx:key="id" bindtap="onJobDetail" data-id="{{item.id}}">
        <view class="job-header">
          <text class="job-title">{{item.title}}</text>
          <text class="job-salary">{{item.salary}}</text>
        </view>
        <view class="job-info">
          <view class="info-item">
            <text class="info-icon">ğŸ“</text>
            <text>{{item.location}}</text>
          </view>
          <view class="info-item">
            <text class="info-icon">â°</text>
            <text>{{item.duration}}</text>
          </view>
          <view class="info-item">
            <text class="info-icon">ğŸ“…</text>
            <text>{{item.date}}</text>
          </view>
        </view>
        <view class="studio-info">
          <image class="studio-avatar" src="{{item.studio.avatar}}" mode="aspectFill"></image>
          <text class="studio-name">{{item.studio.name}}</text>
          <text class="job-status">{{item.status}}</text>
        </view>
      </view>
    </block>
    <view class="empty-tip" wx:else>æš‚æ— æ‹›è˜ä¿¡æ¯</view>
  </scroll-view>
</view>